@model IEnumerable<MimMVC.Models.ApplicationUser>

@using Microsoft.AspNetCore.Identity
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@{bool CheckTeacherRole = true;
    bool CheckBankRole = true;   

}

<div class="container mt-3 shadow p-3 bg-white">
	
	<div class="text-center">
		<h4 class="mt-3 text-secondary">Musik I Mallings Musikundervisere</h4>
	</div>

	<div class="row justify-content-center bg-white p-0">
		@foreach (var item in Model)
		{

			@if (await UserManager.IsInRoleAsync(item, WC.TeacherRole) || await UserManager.IsInRoleAsync(item, WC.AdminTeacherRole))
			{
				<div class="col-lg-3">
                    <div class="team-member p-3  mt-3 h-100" >
                        @if (item.ImageName != null)
                        {
                            <img class="mx-auto" src="@("/img/profileImages/" + item.ImageName)" />

                        }

                        @if (item.ImageName == null)
                        {
                            <img class="mx-auto" src="~/img/layout/noimage.png" alt="..." />
                        }

                        <a asp-area="admin" asp-controller="users" asp-action="details" asp-route-id="@item.Id"><h5 class="text-success" style="padding-bottom: 0.5rem">@Html.DisplayFor(modelItem => item.FullName)</h5></a>

                        @if (item.Email != null)
                        {
                            <p class="card-text mb-auto" style="font-size:13px;"><i class="fas fa-envelope-open-text"></i>&nbsp;&nbsp;&nbsp;<a>@Html.DisplayFor(modelItem => item.Email)</a></p>
                        }

                        @if (item.Teach != null)
                        {
                            <p class="card-text mb-auto"><i class="fas fa-music"></i>&nbsp;&nbsp;<a>@Html.DisplayFor(modelItem => item.Teach)</a></p>
                        }

                        @if (item.PhoneNumber != null)
                        {
                            <p class="card-text mb-auto"><i class="fas fa-phone-volume"></i>&nbsp;&nbsp;<a>@Html.DisplayFor(modelItem => item.PhoneNumber)</a></p>
                        }
                        @if (await UserManager.IsInRoleAsync(item, WC.Manager))
                        {
                            <p class="card-text mb-auto"><i class="fas fa-id-card-alt"></i>&nbsp;&nbsp;<a>Daglig leder</a></p>
                        }
						<br />
                        <a class="pb-0 mb-0" asp-area="admin" asp-controller="users" asp-action="details" asp-route-id="@item.Id"><p class="text-secondary"><u>Mere..</u></p></a>

                    </div>
				</div>
			}
		}
	</div>

	<div class="text-center">
		<h4 class="mt-4 text-secondary">Musik I Mallings bestyrelse</h4>
	</div>

	<div class="row justify-content-center mt-2">
		@foreach (var item in Model)
		{

			@if (await UserManager.IsInRoleAsync(item, WC.Chairman) || await UserManager.IsInRoleAsync(item, WC.Manager) || await UserManager.IsInRoleAsync(item, WC.BankRole) || await UserManager.IsInRoleAsync(item, WC.AdminRole) && !item.FullName.Contains("Admin"))
			{
				<div class="col-lg-3">
					<div class="team-member p-3 mt-3 h-100" >
						@if (item.ImageName != null)
						{
							<img class="mx-auto" src="@("/img/profileImages/" + item.ImageName)" />
						}

						@if (item.ImageName == null)
						{
							<img class="mx-auto" src="~/img/layout/noimage.png" alt="..." />
						}

						<a asp-area="admin" asp-controller="users" asp-action="details" asp-route-id="@item.Id"><h5 class="text-success" style="padding-bottom: 0.5rem">@Html.DisplayFor(modelItem => item.FullName)</h5></a>
						@if (item.Email is not null)
						{
							<p class="card-text mb-auto center" style="font-size:13px;"><i class="fas fa-envelope-open-text"></i>&nbsp;&nbsp;&nbsp;<a>@Html.DisplayFor(modelItem => item.Email)</a></p>
						}
						@if (item.PhoneNumber is not null)
						{
							<p class="card-text mb-auto"><i class="fas fa-phone-volume"></i>&nbsp;&nbsp;<a>@Html.DisplayFor(modelItem => item.PhoneNumber)</a></p>
						}


						@if (await UserManager.IsInRoleAsync(item, WC.BankRole))
						{
							<p class="card-text mb-auto"><i class="fas fa-id-card-alt"></i>&nbsp;&nbsp;<a>@WC.BankRole</a></p>

						}
						else if (await UserManager.IsInRoleAsync(item, WC.Manager))
						{
							<p class="card-text mb-auto"><i class="fas fa-id-card-alt"></i>&nbsp;&nbsp;<a>Daglig leder</a></p>
						}
						else if (await UserManager.IsInRoleAsync(item, WC.AdminRole))
						{
							<p class="card-text mb-auto"><i class="fas fa-id-card-alt"></i>&nbsp;&nbsp;<a>Web Administrator</a></p>
						}
						else if (await UserManager.IsInRoleAsync(item, WC.Chairman))
						{
							<p class="card-text mb-auto"><i class="fas fa-id-card-alt"></i>&nbsp;&nbsp;<a>Bestyrelsesformand</a></p>
						}

					</div>
				</div>
			}
		}
	</div>
	

		<br />
		<!--Google map-->
		<div id="map-container-google-1" class="z-depth-1-half map rounded p-3 mb-3" >
			<iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2228.8204463550333!2d10.196007851630151!3d56.03909767724681!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x464c43ce2ad40177%3A0x4c7c636e86b0fa57!2sMalling%20Skole%20og%20SFO!5e0!3m2!1sda!2sdk!4v1631520749735!5m2!1sda!2sdk" frameborder="0"
					style="border:0" allowfullscreen></iframe>
		</div>
		<!--Google Maps-->
	</div>
